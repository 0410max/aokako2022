<div class='search-result'>
  <span class='search-result-sub'><%= @sub %></span>の検索結果<span class='search-result-sub'><%= boards.length %></span>件
  <%= link_to 'クリア',searchClear_boards_path,method: :get,remote:true,class:'search-clear-button' %>
</div>




<% i = 0 %>
<% len = boards.length %>

<div class='kakomon-index'>
    <% while i < len do %>
    <% boards.each do |board| %>
        <div class='index-board-content'>
            <div class='article-top'>
                <% #アイコン、名前 %>
                <%= link_to end_user_path(board.end_user),class:'index-profile-image-link' do %>
                <%= image_tag board.end_user.get_profile_image,size:'30x30',class:'index-profile-image' %>
                <% end %>
                <span class='kakomon-user-name-top'><%= board.end_user.name %></span>
                <span id='<%= i %>-top-button-1000' class='kakomons-index-top-button'><i class="fa-solid fa-ellipsis"></i></span>

                <% #モーダル %>
                <%= render 'modalIndex1000',board:board,i:i %>

                <% #講義評価詳細 %>
                <%= render 'modalShow1000',board:board,i:i %>

            </div>
            <div class='article-bottom-board'>
                講義 : <%= board.sub %><br>
                教授 : <%= board.prof %><br>
                <span class='form1'>講義の面白さ</span><span class='star-rate1' id="star-rate1-<%= board.id %>-1000"></span><br />
                <span class='form2'>教授の人柄</span><span class='star-rate2' id="star-rate2-<%= board.id %>-1000"></span><br />
                <span class='form3'>単位の取りやすさ</span><span class='star-rate3' id="star-rate3-<%= board.id %>-1000"></span><br />
                
                <% if board.comment.length < 33 %>
                    <span class='board-comment-1000'><%= board.comment %></span>
                <% else %>
                    <span class='board-comment-1000'><%= board.comment[0..28] %></span>
                    <span class='continue-comment-1000'>...</span><span id='<%= i %>-1000' class='continue-comment-link-1000'>続きを読む</span></span>
                <% end %>

                <% if board.comment.length < 31 %>
                    <span class='board-comment-767'><%= board.comment %></span>
                <% else %>
                    <span class='board-comment-767'><%= board.comment[0..26] %></span>
                    <span class='continue-comment-767'>...</span><span id='<%= i %>-767' class='continue-comment-link-767'>続きを読む</span></span>
                <% end %>
                
                <% if board.comment.length < 30 %>
                    <span class='board-comment-600'><%= board.comment %></span>
                <% else %>
                    <span class='board-comment-600'><%= board.comment[0..24] %></span>
                    <span class='continue-comment-600'>...</span><span id='<%= i %>-600' class='continue-comment-link-600'>続きを読む</span></span>
                <% end %>
                
                <% if board.comment.length < 31 %>
                    <span class='board-comment-480'><%= board.comment %></span>
                <% else %>
                    <span class='board-comment-480'><%= board.comment[0..25] %></span>
                    <span class='continue-comment-480'>...</span><span id='<%= i %>-480' class='continue-comment-link-480'>続きを読む</span></span>
                <% end %>
                
                <% if board.comment.length < 30 %>
                    <span class='board-comment-470'><%= board.comment %></span>
                <% else %>
                    <span class='board-comment-470'><%= board.comment[0..24] %></span>
                    <span class='continue-comment-470'>...</span><span id='<%= i %>-470' class='continue-comment-link-470'>続きを読む</span></span>
                <% end %>

                <% if board.comment.length < 29 %>  
                    <span class='board-comment-454'><%= board.comment %></span>
                <% else %>
                    <span class='board-comment-454'><%= board.comment[0..23] %></span>
                    <span class='continue-comment-454'>...</span><span id='<%= i %>-454' class='continue-comment-link-454'>続きを読む</span></span>
                <% end %>
                
                <% if board.comment.length < 28 %>
                    <span class='board-comment-441'><%= board.comment %></span>
                <% else %>
                    <span class='board-comment-441'><%= board.comment[0..22] %></span>
                    <span class='continue-comment-441'>...</span><span id='<%= i %>-441' class='continue-comment-link-441'>続きを読む</span></span>
                <% end %>

                <% if board.comment.length < 27 %>
                    <span class='board-comment-428'><%= board.comment %></span>
                <% else %>
                    <span class='board-comment-428'><%= board.comment[0..21] %></span>
                    <span class='continue-comment-428'>...</span><span id='<%= i %>-428' class='continue-comment-link-428'>続きを読む</span></span>
                <% end %>

                <% if board.comment.length < 26 %>
                    <span class='board-comment-417'><%= board.comment %></span>
                <% else %>
                    <span class='board-comment-417'><%= board.comment[0..20] %></span>
                    <span class='continue-comment-417'>...</span><span id='<%= i %>-417' class='continue-comment-link-417'>続きを読む</span></span>
                <% end %>

                <% if board.comment.length < 25 %>
                    <span class='board-comment-401'><%= board.comment %></span>
                <% else %>
                    <span class='board-comment-401'><%= board.comment[0..19] %></span>
                    <span class='continue-comment-401'>...</span><span id='<%= i %>-401' class='continue-comment-link-401'>続きを読む</span></span>
                <% end %>

                <% if board.comment.length < 24 %>
                    <span class='board-comment-388'><%= board.comment %></span>  
                <% else %>
                    <span class='board-comment-388'><%= board.comment[0..18] %></span>
                    <span class='continue-comment-388'>...</span><span id='<%= i %>-388' class='continue-comment-link-388'>続きを読む</span></span>
                <% end %>

                <% if board.comment.length < 23 %>
                    <span class='board-comment-377'><%= board.comment %></span>
                <% else %>
                    <span class='board-comment-377'><%= board.comment[0..17] %></span>
                    <span class='continue-comment-377'>...</span><span id='<%= i %>-377' class='continue-comment-link-377'>続きを読む</span></span>
                <% end %>

                <span class='board-comment-all-1000'><%= board.comment %></span><br />
                <span class='board-favorites-<%= board.id %> board-favorites'>
                    <%= render 'favorite' ,board:board %>
                </span>
                <span class='board-date'><br /><%= board.created_at.strftime('%Y/%m/%d') %>
            </div>
            </div>
            <script>
            $('#star-rate1-<%= board.id %>-1000').empty();
            $('#star-rate1-<%= board.id %>-1000').raty({
                starOff:  '<%= asset_path('star-off.png') %>',
                starOn : '<%= asset_path('star-on.png') %>',
                readOnly: true,
                score: <%= board.rate1 %>
            });
            </script>
            <script>
            $('#star-rate2-<%= board.id %>-1000').empty(); 
            $('#star-rate2-<%= board.id %>-1000').raty({
                starOff:  '<%= asset_path('star-off.png') %>',
                starOn : '<%= asset_path('star-on.png') %>',
                readOnly: true,
                score: <%= board.rate2 %>
            });
            </script>
            <script>
            $('#star-rate3-<%= board.id %>-1000').empty();
            $('#star-rate3-<%= board.id %>-1000').raty({
                starOff:  '<%= asset_path('star-off.png') %>',
                starOn : '<%= asset_path('star-on.png') %>',
                readOnly: true,
                score: <%= board.rate3 %>
            });
            </script>
            <script>
                $('#<%= i %>-1000')
                .on('click',function(){
                    var continue1000Str = '<%= i %>';
                    var continue1000Ind = Number(continue1000Str);
                    $('.board-comment-all-1000').eq(continue1000Ind).css('display','inline');
                    $('.board-comment-1000').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-link-1000').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-1000').eq(continue1000Ind).css('display','none');
                });
                $('#<%= i %>-767')
                .on('click',function(){
                    var continue1000Str = '<%= i %>';
                    var continue1000Ind = Number(continue1000Str);
                    $('.board-comment-all-1000').eq(continue1000Ind).css('display','inline');
                    $('.board-comment-767').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-link-767').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-767').eq(continue1000Ind).css('display','none');
                });
                $('#<%= i %>-600')
                .on('click',function(){
                    var continue1000Str = '<%= i %>';
                    var continue1000Ind = Number(continue1000Str);
                    $('.board-comment-all-1000').eq(continue1000Ind).css('display','inline');
                    $('.board-comment-600').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-link-600').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-600').eq(continue1000Ind).css('display','none');
                });
                $('#<%= i %>-480')
                .on('click',function(){
                    var continue1000Str = '<%= i %>';
                    var continue1000Ind = Number(continue1000Str);
                    $('.board-comment-all-1000').eq(continue1000Ind).css('display','inline');
                    $('.board-comment-480').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-link-480').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-480').eq(continue1000Ind).css('display','none');
                });
                $('#<%= i %>-470')
                .on('click',function(){
                    var continue1000Str = '<%= i %>';
                    var continue1000Ind = Number(continue1000Str);
                    $('.board-comment-all-1000').eq(continue1000Ind).css('display','inline');
                    $('.board-comment-470').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-link-470').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-470').eq(continue1000Ind).css('display','none');
                });
                $('#<%= i %>-454')
                .on('click',function(){
                    var continue1000Str = '<%= i %>';
                    var continue1000Ind = Number(continue1000Str);
                    $('.board-comment-all-1000').eq(continue1000Ind).css('display','inline');
                    $('.board-comment-454').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-link-454').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-454').eq(continue1000Ind).css('display','none');
                });
                $('#<%= i %>-441')
                .on('click',function(){
                    var continue1000Str = '<%= i %>';
                    var continue1000Ind = Number(continue1000Str);
                    $('.board-comment-all-1000').eq(continue1000Ind).css('display','inline');
                    $('.board-comment-441').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-link-441').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-441').eq(continue1000Ind).css('display','none');
                });
                $('#<%= i %>-428')
                .on('click',function(){
                    var continue1000Str = '<%= i %>';
                    var continue1000Ind = Number(continue1000Str);
                    $('.board-comment-all-1000').eq(continue1000Ind).css('display','inline');
                    $('.board-comment-428').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-link-428').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-428').eq(continue1000Ind).css('display','none');
                });
                $('#<%= i %>-417')
                .on('click',function(){
                    var continue1000Str = '<%= i %>';
                    var continue1000Ind = Number(continue1000Str);
                    $('.board-comment-all-1000').eq(continue1000Ind).css('display','inline');
                    $('.board-comment-417').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-link-417').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-417').eq(continue1000Ind).css('display','none');
                });
                $('#<%= i %>-401')
                .on('click',function(){
                    var continue1000Str = '<%= i %>';
                    var continue1000Ind = Number(continue1000Str);
                    $('.board-comment-all-1000').eq(continue1000Ind).css('display','inline');
                    $('.board-comment-401').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-link-401').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-401').eq(continue1000Ind).css('display','none');
                });
                $('#<%= i %>-388')
                .on('click',function(){
                    var continue1000Str = '<%= i %>';
                    var continue1000Ind = Number(continue1000Str);
                    $('.board-comment-all-1000').eq(continue1000Ind).css('display','inline');
                    $('.board-comment-388').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-link-388').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-388').eq(continue1000Ind).css('display','none');
                });
                $('#<%= i %>-377')
                .on('click',function(){
                    var continue1000Str = '<%= i %>';
                    var continue1000Ind = Number(continue1000Str);
                    $('.board-comment-all-1000').eq(continue1000Ind).css('display','inline');
                    $('.board-comment-377').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-link-377').eq(continue1000Ind).css('display','none');
                    $('.continue-comment-377').eq(continue1000Ind).css('display','none');
                });
            </script>

            

            <script>
            $('.index-boards-show-link-button-1000-<%= i %>')
                .on('click',function(){
                var numberstr = '<%= i %>';
                var numberInd = Number(numberstr)
                $('.max-width-1000-boards-show').eq(numberInd).fadeIn();
                $('.index-modal-bg').fadeIn();
                });
            $('.index-modal-bg')
                .on('click',function(){
                $('.max-width-1000-boards-show').fadeOut();
                });
            </script>



            <% i += 1 %>
        <% end %>
        <% end %>
    </div>
    
    <div class='pagenate'>
        <%= paginate boards %>
    </div>
</div>